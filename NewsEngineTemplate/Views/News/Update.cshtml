@model NewsEngineTemplate.Models.News

@if (ViewData.ContainsKey("notification"))
{
    <h3 class="alert alert-@ViewBag.notificationClass" role="alert">@ViewBag.notification</h3>
}
<div class="list-group-item d-flex justify-content-between lh-condensed bg-dark">
    <div class="container">
        <form action="/news/edit/@ViewBag.Article.ID" id="add-article-form" method="post" class="form-group d-flex flex-column" style="margin:1em auto; position: relative; width: 100%">
            @Html.HttpMethodOverride(HttpVerbs.Put)
            <div class="form-group row">
                <label class="col-2 col-form-label">Title</label>
                <div class="col-10">
                    <input class="form-control article-title-input" type="text"
                           value="@ViewBag.Article.Title"
                           name="Title">
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Content</label>
                <div class="col-10">
                    <textarea class="form-control article-content-input"
                              name="Content">@ViewBag.Article.Content</textarea>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Category</label>
                <div class="col-10">
                    @Html.DropDownListFor(m => m.CategoryID, new SelectList(ViewBag.categories, "Value", "Text"),
                        "Select category", new { @class = "form-control" })

                    @Html.ValidationMessageFor(m => m.ID, "", new { @class = "text-danger" })
                </div>
            </div>

            <button type="submit" class="btn btn-outline-success btn-lg" style="min-width: 12vw; align-self:center;">
                <i class="fa fa-check mx-2"></i> Update article
            </button>
        </form>

        <form method="post" action="/news/delete/@ViewBag.Article.ID" class="form-group">
            @Html.HttpMethodOverride(HttpVerbs.Delete)
            <button type="submit" class="btn btn-outline-danger btn-lg" style="min-width: 12vw">
                <i class="fa fa-trash mx-2"></i> Delete article
            </button>
            @*
                #TODO: Bootstrap modal to confirm action
                #TODO: News article edit history
            *@
        </form>
    </div>
</div>
